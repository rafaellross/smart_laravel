!function(e){var n={};function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=39)}({39:function(e,n,t){e.exports=t(40)},40:function(e,n){$(document).ready(function(){jQuery.validator.setDefaults({debug:!0,success:"valid"}),$.validator.addMethod("filesize",function(e,n,t){return this.optional(n)||n.files[0].size<=t}),$(".date-picker").datepicker({format:"dd/mm/yyyy"}),$("select[name=apprentice]").change(function(){"1"===$(this).val()?$("#apprentice-year").show():$("#apprentice-year").hide()}),$(document).on("change","input[type=file]:not(input[name=tax_declaration_file])",function(){console.log(this),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,t=$(e).prop("name"),i=$("[id*='"+t+"']"),a=$("input[name*='"+t+"'][type=hidden]");if(e.files&&e.files[0]){console.log(e.files);var o=new FileReader;o.onload=function(t){var o=$(this).parent();if("application/pdf"==e.files[0].type)console.debug("Parsing PDF document..."),console.log(PDFJS),PDFJS.getDocument(t.target.result).then(function(e){e.getPage(1).then(function(e){var n=e.getViewport(1.5);$(o).append('<canvas id="pdf-image" class="preview"/>');var t=document.createElement("canvas"),i=t.getContext("2d");t.height=n.height,t.width=n.width,a.val(t.toDataURL());var l={canvasContext:i,viewport:n};e.render(l)})});else{var l=new Image;l.onload=function(){var e=document.createElement("canvas"),t=e.getContext("2d");for(e.width=l.width,e.height=l.height,t.drawImage(l,0,0);.5*e.width>n;)e.width*=.5,e.height*=.5,t.drawImage(e,0,0,e.width,e.height);e.width=n,e.height=e.width*l.height/l.width,t.drawImage(l,0,0,e.width,e.height),i.attr("src",e.toDataURL()).show(),a.val(e.toDataURL())},l.src=t.target.result}},o.readAsDataURL(e.files[0])}}(this)}),$(document).on("click",".btn-remove",function(){confirm("Are you sure you want to remove this license?")&&$(this).parent().parent().fadeOut("slow")});$("#addLicense").click(function(){var e,n,t=$("select[name=licenseId] :selected");$("#licenses-list").append((e=t.text(),n=t.val(),'\n          <div class="card-body">\n\n          \x3c!-- Start Card --\x3e\n          <h5 class="card-title">'+e+' :</h5>\n          <form action="" class="licensesAdd" method="post" enctype="multipart/form-data">\n            <div class="col-xs-12 col-sm-12 col-md-12">\n              <div class="form-row">\n                <div class="col-md-2 col-12 mb-3">\n                  <label>\n                <strong>Issue Date:</strong>\n                </label>\n                <input type="text" class="form-control form-control-lg date-picker" name=license['+n+'][date]" placeholder="dd/mm/yyyy" value=""  maxlength="10" required>\n              </div>\n                <div class="col-md-4 col-12 mb-3 ml-auto">\n                  <label>\n                <strong>State / Issuer *:</strong>\n                </label>\n                <input type="text" class="form-control form-control-lg" name=license['+n+'][issuer]" placeholder="Issued by" value="" required>\n              </div>\n                <div class="col-md-4 col-12 ml-auto">\n                  <label>\n                <strong>Card / Licence No *:</strong>\n                </label>\n                <input type="text" class="form-control form-control-lg" name=license['+n+'][number]" placeholder="Issued by" value="" required>\n            </div>\n              </div>\n              <div class="form-row">\n                <div class="col-md-4 col-12 mb-3">\n                  <label>\n                <strong>Photo - Front *:</strong>\n                </label>\n                  <div class="input-group mb-3">\n                    <div class="custom-file">\n                    <input type="file" class="custom-file-input" name="license['+n+'][image][front]" accept="image/*, application/pdf" required>\n                    <label class="custom-file-label">Choose file</label>\n                    <input type="hidden" name="license['+n+'][image][front][img]"/>\n                </div>\n              </div>\n              </div>\n              <div class="col-md-2 col-12 mb-3">\n                    <img id="license['+n+'][image][front]" class="img-thumbnail" style="max-width: 35%;display: none;">\n              </div>\n              <div class="col-md-4 col-12 mb-3">\n                <label>\n                  <strong>Photo - Back:</strong>\n                </label>\n                <div class="input-group mb-3">\n                  <div class="custom-file">\n                    <input type="file" class="custom-file-input" name="license['+n+'][image][back]" accept="image/*, application/pdf" required>\n                    <label class="custom-file-label">Choose file</label>\n                    <input type="hidden" name="license['+n+'][image][back][img]"/>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-2 col-12 mb-3">\n                <img id="license['+n+'][image][back]" class="img-thumbnail" style="max-width: 35%;display: none;">\n              </div>\n              </div>\n              </div>\n              <button type="button" class="btn btn-danger btn-remove">Remove</button>\n              <hr>\n              </form>\n            </div>\n\n            \x3c!-- End Card --\x3e\n\n        '))}),$("form").submit(function(e){$("input[type=file]").remove()}),$("input[name=tax_declaration_file]").change(function(e){if($("#selected_tax_declaration").show().text(this.files[0].name),this.files&&this.files[0]){var n=new FileReader;n.onload=function(e){$("input[name=tax_declaration]").val(e.target.result)},n.readAsDataURL(this.files[0])}}),$("#div_signature").jSignature({"decor-color":"transparent"}),""!==$("input[name=signature]").val()&&$("#div_signature").jSignature("setData",$("input[name=signature]").val()),$("form").submit(function(){$("input[name=signature]").val($("#div_signature").jSignature("getData"))}),$(".btn-clear-sign").click(function(e){$("#div_signature").jSignature("reset")}),$("#submit_application").prop("disabled","true"),$("#chk_policy").is(":checked")&&$("#submit_application").prop("disabled","false"),$(document).on("click","#chk_policy",function(e){this.checked?$("#submit_application").prop("disabled",!1):$("#submit_application").prop("disabled",!0)}),$(document).on("click","#chk_no_super",function(e){this.checked?($("input[name=superannuation]").prop("disabled",!0).prop("required",!1),$("input[name=superannuation_number]").prop("disabled",!0).prop("required",!1)):($("input[name=superannuation]").prop("disabled",!1).prop("required",!0),$("input[name=superannuation_number]").prop("disabled",!1).prop("required",!0))}),$(document).on("click","#chk_no_redudancy",function(e){this.checked?$("input[name=redundancy]").prop("disabled",!0).prop("required",!1):$("input[name=redundancy]").prop("disabled",!1).prop("required",!0)}),$(document).on("click","#chk_no_long_service",function(e){this.checked?$("input[name=long_service_number]").prop("disabled",!0).prop("required",!1):$("input[name=long_service_number]").prop("disabled",!1).prop("required",!0)})})}});